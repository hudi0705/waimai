{"version":3,"file":"home.js","sources":["pages/home/home.vue","D:/360MoveData/Users/86156/Desktop/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"big\">\n\n\t\t<view class=\"jiandan\">\n\t\t\t<view class=\"jian\">减</view>\n\t\t\t<view class=\"jiandan_text\">满50元减10元（在线支付专享）</view>\n\t\t</view>\n\t\t<view class=\"list\">\n\t\t\t<view class=\"list_list\">\n\t\t\t\t<view v-for=\"(item, index) in classify\"\n\t\t\t\t\t:class=\"{ 'list_item': true, item_select: index == select ? true : false }\" @click=\"item_select(index)\"\n\t\t\t\t\t:key=\"index\">\n\t\t\t\t\t{{ item }}\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<scroll-view class=\"list_center\" id=\"listCenter\" scroll-y :scroll-top=\"scrollTop\" @scroll=\"onScroll\">\n\t\t\t\t<view v-for=\"(item, index) in list\" :key=\"index\" :id=\"'section-' + index\">\n\t\t\t\t\t<view class=\"header\">\n\t\t\t\t\t\t{{ item.name }}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"list_content\" v-for=\"(item, index) in list[0].food\" :key=\"index\">\n\t\t\t\t\t\t<view class=\"left\">\n\t\t\t\t\t\t\t<image class=\"img\" :src=\"item.image_url\"></image>\n\t\t\t\t\t\t\t<view class=\"left_text\">\n\t\t\t\t\t\t\t\t<view class=\"font\">{{ item.name }}</view>\n\t\t\t\t\t\t\t\t<view class=\"qian\">￥{{ item.price }}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"add_to_cart\">\n\t\t\t\t\t\t\t<view class=\"remove_button\" @click=\"remove_from_cart(item)\" v-if=\"item.count > 0\">-</view>\n\t\t\t\t\t\t\t<text class=\"item_count\" v-if=\"item.count > 0\">{{ item.count }}</text>\n\t\t\t\t\t\t\t<view class=\"add_button\" @click=\"add_to_cart(item)\">\n\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\n\t\t<view class=\"promo-text\" :class=\"{ 'active': totalPrice >= 50 }\"\n\t\t\tv-if=\"remainingForDiscount !== null || totalPrice >= 50\">\n\t\t\t<template v-if=\"totalPrice < 50\">\n\t\t\t\t满50立减10元，还差{{ remainingForDiscount }}元\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t已满50元可减10元\n\t\t\t</template>\n\t\t</view>\n\t\t<view class=\"car\">\n\t\t\t<view class=\"car_left\" @click=\"toggleCart\">\n\t\t\t\t<view class=\"car_icon_wrapper\">\n\t\t\t\t\t<view class=\"car_icon\"></view>\n\t\t\t\t\t<view class=\"cart_badge\" v-if=\"totalQuantity > 0\">{{ totalQuantity }}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"price_info\">\n\t\t\t\t\t<view class=\"car_total_price\" v-if=\"totalPrice > 0\">￥{{ totalPrice }}</view>\n\t\t\t\t\t<view class=\"car_original_price\" v-if=\"totalPrice > 0 && totalPrice !== originalPrice\">￥{{ originalPrice }}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"car_text\" v-else>购物车是空的</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"car_right\">\n\t\t\t\t<view class=\"checkout_button\" :class=\"{ 'active': totalPrice > 0 }\" @click=\"checkout\">选好了</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 购物车详情弹窗 -->\n\t\t<view class=\"cart-detail\" v-if=\"showCart\">\n\t\t\t<view class=\"cart-header\">\n\t\t\t\t<text>已选商品</text>\n\t\t\t\t<text class=\"clear-cart\" @click=\"clearCart\">清空购物车</text>\n\t\t\t</view>\n\t\t\t<scroll-view class=\"cart-list\" scroll-y>\n\t\t\t\t<view class=\"cart-item\" v-for=\"(item, id) in cartList\" :key=\"id\">\n\t\t\t\t\t<view class=\"item-info\">\n\t\t\t\t\t\t<text class=\"item-name\">{{ item.name }}</text>\n\t\t\t\t\t\t<text class=\"item-price\">￥{{ item.price }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"item-control\">\n\t\t\t\t\t\t<view class=\"remove_button\" @click=\"remove_from_cart({ id: id })\">-</view>\n\t\t\t\t\t\t<text class=\"item_count\">{{ item.number }}</text>\n\t\t\t\t\t\t<view class=\"add_button\" @click=\"add_to_cart({ id: id })\">+</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tphpsessid: '',\n\t\t\tisLogin: false,\n\t\t\tselect: '0',\n\t\t\tclassify: ['热销推荐', '特色小吃', '甜粥', '凉菜', '醇香奶茶', '主食', '小炒菜', '现磨咖啡', '鲜果奶茶'],\n\t\t\tlist: null,\n\t\t\tloading: false,\n\t\t\tscrollTop: 0,\n\t\t\tcartList: {}, // 购物车数据\n\t\t\tshowCart: false, // 是否显示购物车详情\n\t\t\ttotalPrice: 0, // 购物车总价\n\t\t\ttotalQuantity: 0, // 购物车总数量\n\t\t\toriginalPrice: 0, // 原价（未打折前）\n\t\t\tremainingForDiscount: null // 距离满减还差多少\n\t\t}\n\t},\n\tmethods: {\n\t\tselect_login() {\n\t\t\tuni.request({\n\t\t\t\turl: 'http://localhost/api/user/checkLogin',\n\t\t\t\theader: {\n\t\t\t\t\t'Cookie': this.phpsessid ? 'PHPSESSID=' + this.phpsessid : ''\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tthis.isLogin = res.data.isLogin\n\t\t\t})\n\t\t},\n\t\titem_select(index) {\n\t\t\tthis.select = index;\n\t\t\t// 使用 nextTick 确保 DOM 更新后再滚动\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst query = uni.createSelectorQuery().in(this);\n\t\t\t\tquery.select('#section-' + index).boundingClientRect();\n\t\t\t\tquery.select('#listCenter').boundingClientRect();\n\t\t\t\tquery.exec((res) => {\n\t\t\t\t\tif (res[0] && res[1]) {\n\t\t\t\t\t\tconst targetTop = res[0].top;\n\t\t\t\t\t\tconst containerTop = res[1].top;\n\t\t\t\t\t\tthis.scrollTop = targetTop - containerTop;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tonScroll(e) {\n\t\t\t// 可以在这里处理滚动事件\n\t\t\t// console.log('scroll', e);\n\t\t},\n\t\tget_list() {\n\t\t\tthis.loading = true\n\t\t\tuni.request({\n\t\t\t\turl: 'http://localhost/api/food/list',\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\t'Cookie': this.phpsessid ? 'PHPSESSID=' + this.phpsessid : ''\n\t\t\t\t},\n\t\t\t\ttimeout: 10000,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t// 处理 Set-Cookie\n\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: res.data.msg || '请求失败',\n\t\t\t\t\t\t\t\tconfirmText: '重试',\n\t\t\t\t\t\t\t\tsuccess: (modalRes) => {\n\t\t\t\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\t\t\t\tthis.get_list();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// 这里可以处理返回的数据\n\t\t\t\t\t\tthis.list = res.data.list\n\t\t\t\t\t\tconsole.log(res.data.list);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '服务器异常',\n\t\t\t\t\t\t\tconfirmText: '重试',\n\t\t\t\t\t\t\tsuccess: (modalRes) => {\n\t\t\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\t\t\tthis.get_list();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('请求失败：', err);\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '网络异常，请检查网络连接',\n\t\t\t\t\t\tconfirmText: '重试',\n\t\t\t\t\t\tsuccess: (modalRes) => {\n\t\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\t\tthis.get_list();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tlogin() {\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: (loginRes) => {\n\t\t\t\t\t// console.log(loginRes.code);\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: 'http://localhost/api/user/login',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tjs_code: loginRes.code\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t// 获取 Set-Cookie 头\n\t\t\t\t\t\t\tconst setCookie = res.header['Set-Cookie'];\n\t\t\t\t\t\t\tif (setCookie) {\n\t\t\t\t\t\t\t\t// 解析 Set-Cookie 获取 PHPSESSID\n\t\t\t\t\t\t\t\tconst match = setCookie.match(/PHPSESSID=([^;]+)/);\n\t\t\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t\t\tthis.phpsessid = match[1];\n\t\t\t\t\t\t\t\t\tconsole.log('PHPSESSID:', this.phpsessid);\n\t\t\t\t\t\t\t\t\t// 存储 PHPSESSID 到本地存储\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('PHPSESSID', this.phpsessid);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log('登录成功');\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('登录请求失败', err);\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '登录失败，请重试',\n\t\t\t\t\t\t\t\tconfirmText: '重试',\n\t\t\t\t\t\t\t\tsuccess: (modalRes) => {\n\t\t\t\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\t\t\t\tthis.login();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('获取微信登录code失败', err);\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '获取登录凭证失败',\n\t\t\t\t\t\tconfirmText: '重试',\n\t\t\t\t\t\tsuccess: (modalRes) => {\n\t\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\t\tthis.login();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tadd_to_cart(item) {\n\t\t\tif (!this.cartList[item.id]) {\n\t\t\t\tthis.cartList[item.id] = {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tname: item.name,\n\t\t\t\t\tprice: parseFloat(item.price),\n\t\t\t\t\tnumber: 1\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.cartList[item.id].number++\n\t\t\t}\n\t\t\titem.number = this.cartList[item.id].number\n\t\t\tthis.updateCartTotals()\n\t\t},\n\t\tremove_from_cart(item) {\n\t\t\tif (this.cartList[item.id]) {\n\t\t\t\tif (this.cartList[item.id].number > 1) {\n\t\t\t\t\tthis.cartList[item.id].number--\n\t\t\t\t} else {\n\t\t\t\t\tdelete this.cartList[item.id]\n\t\t\t\t}\n\t\t\t\titem.number = this.cartList[item.id] ? this.cartList[item.id].number : 0\n\t\t\t\tthis.updateCartTotals()\n\t\t\t}\n\t\t},\n\t\tupdateCartTotals() {\n\t\t\tlet total = 0\n\t\t\tlet quantity = 0\n\t\t\tObject.values(this.cartList).forEach(item => {\n\t\t\t\ttotal += item.price * item.number\n\t\t\t\tquantity += item.number\n\t\t\t})\n\t\t\tthis.totalPrice = total\n\t\t\tthis.totalQuantity = quantity\n\t\t\tthis.originalPrice = total\n\n\t\t\t// 计算满减\n\t\t\tif (total < 50) {\n\t\t\t\tthis.remainingForDiscount = (50 - total).toFixed(2)\n\t\t\t} else {\n\t\t\t\tthis.remainingForDiscount = null\n\t\t\t\tthis.totalPrice = total - 10 // 满50减10\n\t\t\t}\n\t\t},\n\t\ttoggleCart() {\n\t\t\tif (this.totalQuantity > 0) {\n\t\t\t\tthis.showCart = !this.showCart\n\t\t\t}\n\t\t},\n\t\tclearCart() {\n\t\t\tthis.cartList = {}\n\t\t\tthis.totalPrice = 0\n\t\t\tthis.totalQuantity = 0\n\t\t\tthis.originalPrice = 0\n\t\t\tthis.remainingForDiscount = null\n\t\t\tthis.showCart = false\n\n\t\t\t// 重置所有商品的count\n\t\t\tif (this.list) {\n\t\t\t\tthis.list.forEach(category => {\n\t\t\t\t\tcategory.food.forEach(item => {\n\t\t\t\t\t\titem.count = 0\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcheckout() {\n\t\t\tif (this.totalQuantity === 0) return\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在生成订单'\n\t\t\t})\n\n\t\t\tuni.request({\n\t\t\t\turl: 'http://localhost/api/food/order',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\torder: this.cartList\n\t\t\t\t},\n\t\t\t\theader: {\n\t\t\t\t\t'Cookie': this.phpsessid ? 'PHPSESSID=' + this.phpsessid : ''\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res.data);\n\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '下单成功',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: (modalRes) => {\n\t\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\turl: `/pages/order/checkout/checkout?order_id=${res.data.order_id}&phpsessid=${this.phpsessid}`\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '网络错误',\n\t\t\t\t\t\tcontent: '请检查网络连接后重试',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tcomputed: {\n\n\t},\n\tmounted() {\n\t\tthis.login()\n\t\tthis.select_login()\n\t\tthis.get_list()\n\t}\n}\n</script>\n\n<style>\n.remove_button {\n\twidth: 50rpx;\n\theight: 50rpx;\n\tbackground-color: #f0f0f0;\n\tborder-radius: 50%;\n\tcolor: #333;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 40rpx;\n\tline-height: 1;\n\tmargin-right: 10rpx;\n}\n\n.add_to_cart {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 20rpx;\n}\n\n.font {\n\tfont-size: 24rpx;\n\tcolor: #333;\n\tfont-weight: 500;\n}\n\n.item_count {\n\tfont-size: 28rpx;\n\tmargin: 0 10rpx;\n}\n\n.add_button {\n\twidth: 50rpx;\n\theight: 50rpx;\n\tbackground-color: #ff9c35;\n\tborder-radius: 50%;\n\tcolor: white;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 40rpx;\n\tline-height: 1;\n}\n\n.header-top {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\theight: 80rpx;\n\tbackground-color: #ff9c35;\n\tcolor: white;\n\tpadding: 0 20rpx;\n\tfont-size: 32rpx;\n}\n\n.back-button {\n\t/* font-size: 40rpx; */\n}\n\n.back-icon {\n\twidth: 40rpx;\n\theight: 40rpx;\n}\n\n.right-icons {\n\tdisplay: flex;\n}\n\n.menu-icon,\n.user-icon {\n\twidth: 40rpx;\n\theight: 40rpx;\n\tbackground-color: rgba(255, 255, 255, 0.3);\n\t/* Placeholder for icons */\n\tborder-radius: 50%;\n\tmargin-left: 20rpx;\n}\n\n.promo-text {\n\twidth: 100%;\n\theight: 60rpx;\n\tbackground-color: #fef0c1;\n\t/* Lighter yellow as in image */\n\tcolor: #ff9c35;\n\t/* Orange text */\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 28rpx;\n\tz-index: 3;\n}\n\n.promo-text.active {\n\tbackground-color: #ff9c35;\n\t/* Orange when discount is met */\n\tcolor: white;\n}\n\n.left_text {\n\tmargin-top: 20rpx;\n\tline-height: 1.5;\n}\n\n.left {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.img {\n\twidth: 150rpx;\n\theight: 150rpx;\n\tmargin-right: 20rpx;\n\tborder-radius: 8rpx;\n\toverflow: hidden;\n\tobject-fit: cover;\n}\n\n.qian {\n\tcolor: #ff4d4f;\n\tfont-size: 28rpx;\n\tfont-weight: bold;\n}\n\n.list_content {\n\twidth: 100%;\n\theight: 150rpx;\n\tbackground-color: white;\n\tmargin-bottom: 20rpx;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 0 20rpx;\n\tbox-sizing: border-box;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n}\n\n.header {\n\twidth: 100%;\n\theight: 50rpx;\n\tbackground-color: #f3f4f6;\n\tcolor: #ff9c35;\n\tfont-size: 24rpx;\n\tline-height: 50rpx;\n\tpadding-left: 10rpx;\n\tposition: sticky;\n\ttop: 0;\n\tz-index: 3;\n}\n\n.car {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 180rpx;\n\tbackground-color: #333;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 0 20rpx;\n\tbox-sizing: border-box;\n\tz-index: 100;\n}\n\n.car_left {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.car_icon_wrapper {\n\tposition: relative;\n\tmargin-right: 15rpx;\n}\n\n.car_icon {\n\twidth: 60rpx;\n\theight: 60rpx;\n\tbackground-color: #ff9c35;\n\tborder-radius: 50%;\n}\n\n.cart_badge {\n\tposition: absolute;\n\ttop: -10rpx;\n\tright: -10rpx;\n\tbackground-color: red;\n\tcolor: white;\n\tborder-radius: 50%;\n\tfont-size: 20rpx;\n\twidth: 30rpx;\n\theight: 30rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.price_info {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.car_text {\n\tcolor: #999;\n\tfont-size: 28rpx;\n}\n\n.car_total_price {\n\tcolor: white;\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\tline-height: 1;\n}\n\n.car_original_price {\n\tcolor: #999;\n\tfont-size: 24rpx;\n\ttext-decoration: line-through;\n\tmargin-top: 5rpx;\n}\n\n.car_right {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.checkout_button {\n\tbackground-color: #999;\n\tcolor: white;\n\tpadding: 15rpx 30rpx;\n\tborder-radius: 50rpx;\n\tfont-size: 30rpx;\n}\n\n.checkout_button.active {\n\tbackground-color: #ff9c35;\n}\n\n.item_select {\n\tborder-left: 3px solid #ff9c35;\n\tcolor: #ff9c35 !important;\n}\n\n.list_item {\n\twidth: 100%;\n\theight: 50px;\n\ttext-align: center;\n\tline-height: 50px;\n\tfont-size: 30rpx;\n\tcolor: #a8a7a4;\n\tfont-weight: bold;\n}\n\n.list {\n\twidth: 100%;\n\theight: calc(100vh - 90rpx - 80rpx - 60rpx - 100rpx);\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.list_list {\n\tflex: 1;\n\tbackground: #fcfcfc;\n\toverflow-y: auto;\n\theight: 100%;\n\tz-index: 1;\n}\n\n.list_center {\n\tflex: 2;\n\toverflow-y: auto;\n\tpadding-bottom: 180rpx;\n\tposition: relative;\n\tz-index: 2;\n\theight: calc(100vh - 90rpx - 80rpx - 60rpx - 180rpx);\n}\n\n.jian {\n\twidth: 50rpx;\n\theight: 50rpx;\n\tbackground-color: red;\n\tcolor: white;\n\ttext-align: center;\n\tmargin-right: 20rpx;\n}\n\n.big {\n\twidth: 100%;\n\theight: 100vh;\n\tbackground-color: whitesmoke;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.jiandan {\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 90rpx;\n\tbackground-color: #fef9e6;\n\tdisplay: flex;\n}\n\n.jiandan_text {\n\tfont-size: 24rpx;\n\t/* Adjusted font size */\n\tcolor: #a8a7a4;\n}\n\n.cart-detail {\n\tposition: fixed;\n\tbottom: 180rpx;\n\tleft: 0;\n\twidth: 100%;\n\tbackground-color: white;\n\tz-index: 99;\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.1);\n\tmax-height: 60vh;\n\toverflow-y: auto;\n}\n\n.cart-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 20rpx;\n\tborder-bottom: 1rpx solid #eee;\n}\n\n.clear-cart {\n\tcolor: #999;\n\tfont-size: 28rpx;\n}\n\n.cart-list {\n\theight: auto;\n\tmax-height: calc(60vh - 100rpx);\n}\n\n.cart-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 20rpx;\n\tborder-bottom: 1rpx solid #eee;\n}\n\n.item-info {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.item-name {\n\tfont-size: 28rpx;\n\tcolor: #333;\n}\n\n.item-price {\n\tfont-size: 28rpx;\n\tcolor: #ff4d4f;\n\tmargin-top: 10rpx;\n}\n\n.item-control {\n\tdisplay: flex;\n\talign-items: center;\n}\n</style>\n","import MiniProgramPage from 'C:/Users/86156/Documents/HBuilderProjects/diancan/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}