{"version":3,"file":"one.js","sources":["pages/one/one.vue","D:/360MoveData/Users/86156/Desktop/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvb25lL29uZS52dWU"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"container\">\r\n\t\t\t<view class=\"header-card\">\r\n\t\t\t\t<view class=\"pickup-number-wrapper\">\r\n\t\t\t\t\t<view class=\"pickup-label\">ÂèñÈ§êÂè∑</view>\r\n\t\t\t\t\t<view class=\"pickup-number\">{{ orderDetail.code || '--' }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"status-info\">\r\n\t\t\t\t\t<text class=\"status-text\">{{ orderDetail.is_pay ? (orderDetail.is_taken ? 'Â∑≤ÂèñÈ§ê' : 'Ê≠£Âú®Á≤æÂøÉÂà∂‰Ωú‰∏≠...') : 'ÂæÖÊîØ‰ªò'\r\n\t\t\t\t\t}}</text>\r\n\t\t\t\t\t<text class=\"status-detail\">{{ orderDetail.is_pay ? (orderDetail.is_taken ? 'ÊÑüË∞¢ÊÇ®ÁöÑÊÉ†È°æ' : 'ÁæéÈ£üÂà∂‰Ωú‰∏≠ÔºåÂ∞ΩÂø´‰∏∫ÊÇ®ÊúçÂä°üòä') :\r\n\t\t\t\t\t\t'ËØ∑Â∞ΩÂø´ÂÆåÊàêÊîØ‰ªò' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"section order-details-section\">\r\n\t\t\t\t<view class=\"section-title\">ËÆ¢ÂçïËØ¶ÊÉÖ</view>\r\n\t\t\t\t<view class=\"order-item\" v-for=\"(item, index) in orderDetail.order_food\" :key=\"index\">\r\n\t\t\t\t\t<image class=\"item-image\" :src=\"item.image_url\"></image>\r\n\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t<text class=\"item-name\">{{ item.name || 'Êú™Áü•ÂïÜÂìÅ' }}</text>\r\n\t\t\t\t\t\t<text class=\"item-quantity\">x {{ item.number || 0 }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"item-price\">Ôø•{{ (parseFloat(item.price) || 0).toFixed(2) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"subtotal\">\r\n\t\t\t\t\t<text>Â∞èËÆ°</text>\r\n\t\t\t\t\t<text>Ôø•{{ (parseFloat(orderDetail.price) || 0).toFixed(2) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"section order-info-section\">\r\n\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t<text class=\"info-label\">ËÆ¢ÂçïÂè∑Á†Å</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{ orderDetail.sn || '--' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t<text class=\"info-label\">‰∏ãÂçïÊó∂Èó¥</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{ orderDetail.create_time || '--' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t<text class=\"info-label\">‰ªòÊ¨æÊó∂Èó¥</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{ orderDetail.pay_time || 'Êú™ÊîØ‰ªò' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-row\" v-if=\"orderDetail.comment\">\r\n\t\t\t\t\t<text class=\"info-label\">Â§áÊ≥®</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{ orderDetail.comment }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"footer-button-wrapper\" v-if=\"orderDetail.is_pay\">\r\n\t\t\t\t<view class=\"pickup-message-button\">ËØ∑Âá≠Ê≠§È°µÈù¢Ëá≥ÂèñÈ§êÊüúÂè∞È¢ÜÂèñÁæéÈ£ü</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"footer-button-wrapper\" v-else>\r\n\t\t\t\t<view class=\"total-price-info\">\r\n\t\t\t\t\t<text>ÂêàËÆ°:</text>\r\n\t\t\t\t\t<text class=\"total-price\">Ôø•{{ ((parseFloat(orderDetail.price) || 0) - (parseFloat(orderDetail.promotion) ||\r\n\t\t\t\t\t\t0)).toFixed(2) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pay-button\" @click=\"goToPay\">ÂéªÊîØ‰ªò</view>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\torderDetail: {}\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tif (options.order_id) {\r\n\t\t\tconsole.log('id', options.order_id);\r\n\t\t\tthis.orderId = options.order_id;\r\n\t\t\tif (options.phpsessid) {\r\n\t\t\t\tthis.phpsessid = options.phpsessid\r\n\t\t\t}\r\n\t\t\tthis.getOrderDetails(this.orderId);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetOrderDetails(orderId) {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: 'Âä†ËΩΩ‰∏≠'\r\n\t\t\t});\r\n\t\t\tuni.request({\r\n\t\t\t\turl: `http://localhost/api/food/order?id=${orderId}`,\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Cookie': this.phpsessid ? 'PHPSESSID=' + this.phpsessid : ''\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log('API Response:', res.data);\r\n\t\t\t\t\tif (res.data) {\r\n\t\t\t\t\t\tthis.orderDetail = res.data;\r\n\t\t\t\t\t\t// Á°Æ‰øù order_food ÊòØÊï∞ÁªÑ\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: (error) => {\r\n\t\t\t\t\tconsole.error('ËØ∑Ê±ÇÂ§±Ë¥•:', error);\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: 'Ëé∑ÂèñËÆ¢ÂçïÂ§±Ë¥•',\r\n\t\t\t\t\t\tcontent: 'ÁΩëÁªúËØ∑Ê±ÇÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgoToPay() {\r\n\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\npage {\r\n\tbackground-color: #f8f8f8;\r\n}\r\n\r\n.container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmin-height: 100vh;\r\n\tpadding-bottom: 120rpx;\r\n\t/* Space for the fixed footer */\r\n}\r\n\r\n.header-card {\r\n\tbackground-color: white;\r\n\tmargin: 20rpx 15rpx;\r\n\tpadding: 30rpx;\r\n\tborder-radius: 8rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.pickup-number-wrapper {\r\n\tbackground-color: #ff9c35;\r\n\tcolor: white;\r\n\tpadding: 20rpx;\r\n\tborder-radius: 8rpx;\r\n\ttext-align: center;\r\n\tmargin-right: 30rpx;\r\n}\r\n\r\n.pickup-label {\r\n\tfont-size: 24rpx;\r\n}\r\n\r\n.pickup-number {\r\n\tfont-size: 48rpx;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.status-info {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.status-text {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #ff9c35;\r\n}\r\n\r\n.status-detail {\r\n\tfont-size: 28rpx;\r\n\tcolor: #FFC107;\r\n\tmargin-top: 10rpx;\r\n}\r\n\r\n.section {\r\n\tbackground-color: white;\r\n\tmargin: 20rpx 15rpx;\r\n\tpadding: 20rpx 30rpx;\r\n\tborder-radius: 8rpx;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.section-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tmargin-bottom: 20rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.order-item {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.item-image {\r\n\twidth: 100rpx;\r\n\theight: 100rpx;\r\n\tmargin-right: 20rpx;\r\n\tborder-radius: 50%;\r\n\tobject-fit: cover;\r\n}\r\n\r\n.item-info {\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.item-name {\r\n\tfont-size: 30rpx;\r\n\tcolor: #000;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.item-quantity {\r\n\tfont-size: 24rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.item-price {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #000;\r\n}\r\n\r\n.subtotal {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding-top: 20rpx;\r\n\tborder-top: 1rpx solid #eee;\r\n\tfont-size: 32rpx;\r\n\tfont-weight: normal;\r\n\tcolor: #666;\r\n}\r\n\r\n.order-info-section .info-row {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tmargin-bottom: 15rpx;\r\n\tfont-size: 28rpx;\r\n}\r\n\r\n.order-info-section .info-label {\r\n\tcolor: #666;\r\n}\r\n\r\n.order-info-section .info-value {\r\n\tcolor: #000;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.footer-button-wrapper {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 120rpx;\r\n\tbackground-color: #333;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 0 30rpx;\r\n\tbox-sizing: border-box;\r\n\tz-index: 100;\r\n}\r\n\r\n.total-price-info {\r\n\tdisplay: flex;\r\n\talign-items: baseline;\r\n\tcolor: white;\r\n\tmargin-right: auto;\r\n\t/* Push pay button to right */\r\n}\r\n\r\n.total-price {\r\n\tfont-size: 40rpx;\r\n\tfont-weight: bold;\r\n\tmargin-left: 10rpx;\r\n}\r\n\r\n.pay-button {\r\n\tbackground-color: #ff9c35;\r\n\tcolor: white;\r\n\tpadding: 20rpx 40rpx;\r\n\tborder-radius: 60rpx;\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.pickup-message-button {\r\n\tbackground-color: #ff9c35;\r\n\tcolor: white;\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\tpadding: 20rpx 0;\r\n\tborder-radius: 60rpx;\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/86156/Documents/HBuilderProjects/diancan/pages/one/one.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAoEA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,aAAa,CAAC;AAAA,IACf;AAAA,EACA;AAAA,EACD,OAAO,SAAS;AACf,QAAI,QAAQ,UAAU;AACrBA,oBAAA,MAAA,MAAA,OAAA,2BAAY,MAAM,QAAQ,QAAQ;AAClC,WAAK,UAAU,QAAQ;AACvB,UAAI,QAAQ,WAAW;AACtB,aAAK,YAAY,QAAQ;AAAA,MAC1B;AACA,WAAK,gBAAgB,KAAK,OAAO;AAAA,IAClC;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,gBAAgB,SAAS;AACxBA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,MACR,CAAC;AACDA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,sCAAsC,OAAO;AAAA,QAClD,QAAQ;AAAA,QACR,QAAQ;AAAA,UACP,UAAU,KAAK,YAAY,eAAe,KAAK,YAAY;AAAA,QAC3D;AAAA,QACD,SAAS,CAAC,QAAQ;AACjBA,sEAAY,iBAAiB,IAAI,IAAI;AACrC,cAAI,IAAI,MAAM;AACb,iBAAK,cAAc,IAAI;AAAA,UAGxB;AAAA,QACA;AAAA,QACD,MAAM,CAAC,UAAU;AAChBA,yEAAc,SAAS,KAAK;AAC5BA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,SAAS;AAAA,YACT,YAAY;AAAA,UACb,CAAC;AAAA,QACD;AAAA,QACD,UAAU,MAAM;AACfA,wBAAG,MAAC,YAAW;AAAA,QAChB;AAAA,MACD,CAAC;AAAA,IACD;AAAA,IACD,UAAU;AAAA,IAEV;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvHA,GAAG,WAAW,eAAe;"}